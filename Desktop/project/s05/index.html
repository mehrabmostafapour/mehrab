<!DOCTYPE HTML PUBLIC>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S05</title>

    <style>

    </style>
</head>
<body>

    <input type="button" value="Log all inputs" id="logAll" disabled>
    <div id="pattern">

        <input type="button" value="+" id="btn">

    </div>


    <script>
        "use strict"
        let Persons = {};

        let lastBtn = document.getElementById("btn");
        
        console.log(lastBtn);

        function addNewInputs () {
            document.getElementById("logAll").disabled = false;
            document.getElementById("pattern").innerHTML += "</br>"
            +"<input type='text' class ='fname'>"
            +"<input class='lname' type='text'>"
            +"<input type='button' value='+' id='btn'>"
            +"</br>";     
            document.getElementById("btn").disabled = true  ;
            document.getElementById("btn").id = "btn_disabled"  ;
            lastBtn = document.getElementById("btn");
            newEvent();
        }
        
        function newEvent() {
            lastBtn.addEventListener("click" , addNewInputs);
        }
        
        
        newEvent();


        document.getElementById("logAll").addEventListener("click" , function ()
        {
            let allFirstNames = document.getElementsByClassName("fname");
            let allLastNames  = document.getElementsByClassName("lname");
            for (let index = 0; index < allFirstNames.length; ++index) {
                Persons[index] = {"First name :" : allLastNames[index].value , "Last name :" : allLastNames[index].value};
            }
            console.log (Persons);
        });

    </script>
</body>
</html>